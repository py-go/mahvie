<div class="contain centered-wrapper">
    <div class="centered-content contianer">
        <div class="mt-132">
            <section>
                <h1 class="titleText">{{currentQuestion.title}}</h1>
                <div class="questionsStyle" *ngIf="currentQuestion.subtitle">
                    {{currentQuestion.subtitle}}
                </div>
            </section>
            <section class="mt-132">
                <form [formGroup]="formGroup" (ngSubmit)="continue()">
                  <div class="row w-75 mx-auto">
                    <div class="questionsStyle col-sm-7 text-left mx-auto" *ngIf="currentQuestion.question">
                        {{currentQuestion.question}}
                    </div>
                    <!-- radio buttons -->
                    <div *ngIf="currentQuestion.type === 'radio'" class="col-sm-7 mx-auto">
                      <div class="inputFull" *ngFor="let instance of currentQuestion.options; let i = index;" 
                        [ngClass]="{ 'active': instance.active, 'show-pointer': currentQuestion.type === 'radio' }" 
                        (click)="radioSelection(i, currentQuestion.options)">
                        <input [formControlName]="currentQuestion.name" [type]="currentQuestion.type"
                          class="inpChecked form-control" [value]="instance.text" [name]="currentQuestion.name" [checked]="instance.active">
                        <label class="optStyle">{{instance.text | titlecase }}</label>
                      </div>
                    </div>
                    <!-- 2 textboxes -->
                    <div class="mt-4" *ngIf="currentQuestion.type === 'text' && currentQuestion.inline" class="mx-auto">
                        <input formControlName="{{currentQuestion.controls[i]}}" type="text" class="inputText inputHalf col-sm-6" placeholder={{fields}} 
                          *ngFor="let fields of currentQuestion.options; let i = index;">
                    </div>
                    <!-- single textbox -->
                    <div class="mt-4" *ngIf="currentQuestion.type === 'text' && !currentQuestion.inline" class="col-sm-7 mx-auto">
                        <input formControlName="{{currentQuestion.controls[0]}}" type="text" class="inputText inputFull" placeholder={{fields}} 
                          *ngFor="let fields of currentQuestion.options">
                    </div>
                    <!-- slider control -->
                    <div class="mt-4" *ngIf="currentQuestion.type === 'slider'" class="col-sm-7 mx-auto">
                        <input readonly type="text" class="inputFull inputSlide mb-74" matInput 
                          [value]="sliderValue | currency">
                        <mat-slider [step]="1000"
                          [max]="currentQuestion.validations.max" [min]="currentQuestion.validations.min" 
                          (change)="sliderValueChange$.next($event.value)" [value]="sliderValue"></mat-slider>
                        <section class="slider-amounts">
                          <label class="sliderLabel">{{currentQuestion.validations.min | currency}}</label>
                          <label class="sliderLabel">{{currentQuestion.validations.max | currency}}</label>
                        </section>
                    </div>
                    <!-- dates -->
                    <div class="mt-4 dateField" *ngIf="currentQuestion.type === 'date'" class="col-sm-7 mx-auto">
                        <input matInput [matDatepicker]="dp3" [value]="dateValue"
                          (dateChange)="dateSelected('change', $event)" class="inputDate t1" 
                          style="width:40%" placeholder="Date of Birth">
                        <div class="calenderIcon">
                            <mat-datepicker-toggle matSuffix [for]="dp3"></mat-datepicker-toggle>
                            <mat-datepicker #dp3 disabled="false"></mat-datepicker>
                        </div>
                        <input type="text" class="inputDate t2" style="width:20%" placeholder="MM" readonly [(ngModel)]="date" [ngModelOptions]="{standalone: true}">
                        <input type="text" class="inputDate t2" style="width:20%" placeholder="DD" readonly [(ngModel)]="month" [ngModelOptions]="{standalone: true}">
                        <input type="text" class="inputDate t2" style="width:20%" placeholder="YYYY" readonly [(ngModel)]="year" [ngModelOptions]="{standalone: true}">
                    </div>
                    <!-- preferences -->
                    <div class="row mt-4 w-100 mt-3 mx-auto" *ngIf="currentQuestion.type === 'products-radio'">
                        <div class="col-md-4 mt-4 text-center">
                            <a href="javascript:void(0)" class="preference life-insurance"
                              [ngClass]="{ 'active': currentQuestion.options[0].active }" 
                              (click)="radioSelection(0, currentQuestion.options)">
                              <span class="title">life insurance</span>
                              <div class="show-on-hover">
                                If I were to pass away, I would like to give money to a person(s) of my choice.
                              </div>
                              <input [formControlName]="currentQuestion.name" type="radio"
                                class="inpChecked form-control" [value]="currentQuestion.options[0].text" [name]="currentQuestion.name" 
                                [checked]="currentQuestion.options[0].active">
                            </a>
                        </div>
                        <div class="col-md-4 mt-4 text-center">
                            <a href="javascript:void(0)" class="preference critical-illness"
                              [ngClass]="{ 'active': currentQuestion.options[1].active }" 
                              (click)="radioSelection(1, currentQuestion.options)">
                              <span class="title">critical illness</span>
                              <div class="show-on-hover">
                                If I were to suffer a stroke, heart attack or  get cancer, I would like to personally receive a large amount of money.
                              </div>
                              <input [formControlName]="currentQuestion.name" type="radio"
                                class="inpChecked form-control" [value]="currentQuestion.options[1].text" [name]="currentQuestion.name" 
                                [checked]="currentQuestion.options[1].active">
                            </a>
                        </div>
                        <div class="col-md-4 mt-4 text-center">
                            <a href="javascript:void(0)" class="preference long-term-care"
                              [ngClass]="{ 'active': currentQuestion.options[2].active }" 
                              (click)="radioSelection(2, currentQuestion.options)">
                              <span class="title">long term care</span>
                              <div class="show-on-hover">
                                If I were unable to perform my daily tasks independently, I would like to receive money to hire assistance.
                              </div>
                              <input [formControlName]="currentQuestion.name" type="radio"
                                class="inpChecked form-control" [value]="currentQuestion.options[2].text" [name]="currentQuestion.name" 
                                [checked]="currentQuestion.options[2].active">
                            </a>
                        </div>
                    </div>
                  </div>
                  <!-- submit/skip -->
                  <div class="text-center">
                    <button [disabled]="formGroup.invalid" type="submit" class="submitBtn" >Continue</button>
                    <div>
                      <button *ngIf="formSection === 2" class="skipText" (click)="continue()">Skip for now</button>
                    </div>
                  </div>
                </form>
            </section>
        </div>
    </div>
</div>
